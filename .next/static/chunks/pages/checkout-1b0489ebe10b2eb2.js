(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{55248:function(e,s,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return c(1432)}])},1432:function(e,s,c){"use strict";c.r(s),c.d(s,{__N_SSP:function(){return g},default:function(){return w}});var t=c(85893),n=c(67294),a=c(79711),l=c(90152),r=c(72860),i=c(88824),o=c(61150),d=c(46340),u=c(11163),h=c(73981),x=c.n(h);let m=e=>{let{label:s,value:c}=e;return(0,t.jsxs)("div",{className:x().detail,children:[(0,t.jsx)("span",{className:x().label,children:s}),(0,t.jsx)("span",{className:x().value,children:c})]})},j=()=>{var e,s;let{siteConfig:c,cart:l,emptyCart:r}=(0,n.useContext)(a.D),{post:h,loading:j}=(0,d.ib)(o.Hv.placeOrder),_=(0,u.useRouter)(),p=(0,n.useCallback)(e=>{h({payment_method:e}).then(e=>{let{data:s}=e;(null==s?void 0:s.success)?(0,i.N)({type:"success",message:s.message,callback:()=>{r(),_.push(o.Hb.clientArea.orders)}}):s&&(0,i.N)({type:"error",message:s.message})}).catch(e=>(0,i.N)({type:"error",message:e.message}))},[]);return(0,t.jsxs)("div",{className:x().summary,children:[(0,t.jsx)("h3",{children:"Summary"}),(0,t.jsx)(m,{label:"Total item costs",value:(null===(e=c.siteConfig)||void 0===e?void 0:e.currency)+" "+l.reduce((e,s)=>{var c;return e+(s.product.price+((null===(c=s.variant)||void 0===c?void 0:c.price)||0))*s.qty},0).toLocaleString()}),(0,t.jsx)(m,{label:"Total Shipping",value:(null===(s=c.siteConfig)||void 0===s?void 0:s.currency)+" 0"}),(0,t.jsxs)("div",{className:x().actions,children:[(0,t.jsx)("button",{className:"btn secondary fullWidth",disabled:j,onClick:()=>p("payNow"),children:"Pay Now"}),(0,t.jsx)("button",{className:"btn fullWidth",disabled:j,onClick:()=>p("cod"),children:"Cash On delivery"})]})]})};var _=c(83505),p=c(87536);function v(){let{control:e}=(0,p.cI)();return(0,t.jsxs)("div",{className:x().forms,children:[(0,t.jsx)("h2",{children:"Shipping Address"}),(0,t.jsxs)("form",{children:[(0,t.jsxs)("section",{className:x().contact,children:[(0,t.jsx)("h3",{children:"Contact"}),(0,t.jsx)(_.II,{label:"Name",control:e,name:"name"}),(0,t.jsx)(_.II,{label:"Phone",control:e,name:"phone"})]}),(0,t.jsxs)("section",{className:x().address,children:[(0,t.jsx)("h3",{children:"Address"}),(0,t.jsx)(_.II,{label:"Street, house/apartment/unit*",control:e,name:"address"}),(0,t.jsx)(_.II,{label:"Apt, Suit, Unit etc. (Optional)",control:e,name:"address2"}),(0,t.jsx)(_.II,{label:"Country",control:e,name:"country"}),(0,t.jsx)(_.II,{label:"State",control:e,name:"state"}),(0,t.jsx)(_.II,{label:"City",control:e,name:"city"}),(0,t.jsx)(_.II,{label:"Zip Code",control:e,name:"zipCode"})]})]})]})}var N=c(25675),b=c.n(N);function f(e){let{product:s}=e;return(0,t.jsxs)("div",{className:"".concat(x().container),children:[(0,t.jsx)(v,{}),(0,t.jsx)(j,{product:s}),(0,t.jsx)(k,{product:s})]})}let k=e=>{let{product:s}=e;return(0,t.jsx)("div",{className:x().products,children:s&&(0,t.jsxs)("div",{className:x().product,children:[(0,t.jsx)(b(),{src:s.images[0],height:120,width:120,alt:s.title}),(0,t.jsxs)("div",{className:x().productDetail,children:[(0,t.jsx)("h3",{children:s.title}),(0,t.jsx)("p",{children:s.description})]})]})})};var I=c(28380),y=c(8193);let C=e=>{let{siteData:s}=e,{setSiteConfig:c,user:i}=(0,n.useContext)(a.D);return((0,n.useEffect)(()=>{s&&c(s)},[s]),s)?i?(0,t.jsxs)("main",{className:x().checkout,children:[(0,t.jsx)(l.Z,{}),(0,t.jsx)(f,{}),(0,t.jsx)(r.Z,{})]}):(0,t.jsxs)("main",{children:[(0,t.jsx)(l.Z,{}),(0,t.jsx)("div",{className:"privateRouteFallback",children:(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)(y.YfK,{})}),(0,t.jsx)("span",{children:"Please log in to continue!"})]})}),(0,t.jsx)(r.Z,{})]}):(0,t.jsx)(I.Z,{})};var g=!0,w=C},73981:function(e){e.exports={container:"checkout_container__wAtOP",summary:"checkout_summary__tTpw_",detail:"checkout_detail__SGew3",actions:"checkout_actions__xszzQ",forms:"checkout_forms__AL7Ec",contact:"checkout_contact__8ij8y",address:"checkout_address__oJrh_",products:"checkout_products__I2jqv",product:"checkout_product__IIiL1"}}},function(e){e.O(0,[445,937,13,260,874,255,556,617,801,441,774,888,179],function(){return e(e.s=55248)}),_N_E=e.O()}]);