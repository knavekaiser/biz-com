(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{55248:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return n(1432)}])},1432:function(e,s,n){"use strict";n.r(s),n.d(s,{__N_SSP:function(){return g},default:function(){return w}});var t=n(85893),a=n(67294),c=n(79711),l=n(90152),o=n(11163),r=n(72860),i=n(88824),d=n(61150),u=n(77807),h=n(73981),m=n.n(h),p=n(17474),_=n(83454);let x=e=>{let{label:s,value:n}=e;return(0,t.jsxs)("div",{className:m().detail,children:[(0,t.jsx)("span",{className:m().label,children:s}),(0,t.jsx)("span",{className:m().value,children:n})]})},j=()=>{var e,s;let{user:n,siteConfig:l,cart:r,emptyCart:h}=(0,a.useContext)(c.D),{post:j,loading:f}=(0,u.ib)(d.Hv.placeOrder),v=(0,o.useRouter)();(0,a.useEffect)(()=>{(0,p.v)("https://checkout.razorpay.com/v1/checkout.js")},[]);let y=(0,a.useCallback)(e=>{j({paymentMethod:e,cart:r}).then(s=>{let{data:n}=s;if(null==n?void 0:n.success){if("cod"===e)(0,i.N)({type:"success",message:"Your order has been placed. Thank you for shopping with us",callback:()=>{h(),v.push(d.Hb.clientArea.orders)}});else{let e=window.Razorpay;if(e){let s=n.data,t=new e({key:_.env.RAZORPAY_API_KEY,amount:s.amount,currency:"INR",accept_partial:!1,image:l.logo,name:l.name,description:"Make Payment",order_id:s.payOrderId,handler:e=>{h(),(0,i.N)({type:"success",message:"Your order has been placed. Thank you for shopping with us",callback:()=>{h(),v.push(d.Hb.clientArea.orders)}})},modal:{ondismiss:()=>{}},theme:{color:"#336cf9"},notify:{sms:!0,email:!0},reminder_enable:!0});t.on("payment.failed",e=>{setAddMoneyFailed(!0),setLoading(!1)}),t.open()}}}else n&&(0,i.N)({type:"error",message:n.message})}).catch(e=>(0,i.N)({type:"error",message:e.message}))},[]);return(0,t.jsxs)("div",{className:m().summary,children:[(0,t.jsx)("h3",{children:"Summary"}),(0,t.jsx)(x,{label:"Total item costs",value:(null===(e=l.siteConfig)||void 0===e?void 0:e.currency)+" "+r.reduce((e,s)=>{var n;return e+(s.product.price+((null===(n=s.variant)||void 0===n?void 0:n.price)||0))*s.qty},0).toLocaleString()}),(0,t.jsx)(x,{label:"Total Shipping",value:(null===(s=l.siteConfig)||void 0===s?void 0:s.currency)+" 0"}),(null==r?void 0:r.length)>0&&(0,t.jsxs)("div",{className:m().actions,children:[(0,t.jsx)("button",{className:"btn secondary fullWidth",disabled:f,onClick:()=>y("prepaid"),children:"Pay Now"}),(0,t.jsx)("button",{className:"btn fullWidth",disabled:f,onClick:()=>y("cod"),children:"Cash On delivery"})]})]})};var f=n(83505),v=n(87536);function y(){let{control:e}=(0,v.cI)();return(0,t.jsxs)("div",{className:m().forms,children:[(0,t.jsx)("h2",{children:"Shipping Address"}),(0,t.jsxs)("form",{children:[(0,t.jsxs)("section",{className:m().contact,children:[(0,t.jsx)("h3",{children:"Contact"}),(0,t.jsx)(f.II,{label:"Name",control:e,name:"name"}),(0,t.jsx)(f.II,{label:"Phone",control:e,name:"phone"})]}),(0,t.jsxs)("section",{className:m().address,children:[(0,t.jsx)("h3",{children:"Address"}),(0,t.jsx)(f.II,{label:"Street, house/apartment/unit*",control:e,name:"address"}),(0,t.jsx)(f.II,{label:"Apt, Suit, Unit etc. (Optional)",control:e,name:"address2"}),(0,t.jsx)(f.II,{label:"Country",control:e,name:"country"}),(0,t.jsx)(f.II,{label:"State",control:e,name:"state"}),(0,t.jsx)(f.II,{label:"City",control:e,name:"city"}),(0,t.jsx)(f.II,{label:"Zip Code",control:e,name:"zipCode"})]})]})]})}function b(e){let{product:s}=e;return(0,t.jsxs)("div",{className:"".concat(m().container),children:[(0,t.jsx)(y,{}),(0,t.jsx)(j,{product:s})]})}n(25675);var N=n(28380),k=n(87771);let I=e=>{let{siteData:s}=e,n=(0,o.useRouter)(),{setSiteConfig:i,user:d,cart:u}=(0,a.useContext)(c.D);return((0,a.useEffect)(()=>{s&&i(s)},[s]),(0,a.useEffect)(()=>{(null==u?void 0:u.length)===0&&n.replace("/")},[]),s)?d?(0,t.jsxs)("main",{className:m().checkout,children:[(0,t.jsx)(l.Z,{}),(0,t.jsx)(b,{}),(0,t.jsx)(r.Z,{})]}):(0,t.jsxs)("main",{children:[(0,t.jsx)(l.Z,{}),(0,t.jsx)("div",{className:"privateRouteFallback",children:(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)(k.YfK,{})}),(0,t.jsx)("span",{children:"Please log in to continue!"})]})}),(0,t.jsx)(r.Z,{})]}):(0,t.jsx)(N.Z,{})};var g=!0,w=I},73981:function(e){e.exports={container:"checkout_container__wAtOP",summary:"checkout_summary__tTpw_",detail:"checkout_detail__SGew3",actions:"checkout_actions__xszzQ",forms:"checkout_forms__AL7Ec",contact:"checkout_contact__8ij8y",address:"checkout_address__oJrh_",products:"checkout_products__I2jqv",product:"checkout_product__IIiL1"}}},function(e){e.O(0,[317,738,365,660,817,255,321,473,594,678,441,774,888,179],function(){return e(e.s=55248)}),_N_E=e.O()}]);