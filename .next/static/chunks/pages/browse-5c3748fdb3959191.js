(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{8717:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/browse",function(){return t(23242)}])},23242:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSP:function(){return P},default:function(){return F}});var n=t(85893),l=t(67294),s=t(79711),o=t(9008),r=t.n(o),c=t(90152),i=t(72860),u=t(28380),d=t(88824),m=t(83505),p=t(53854),g=t(12713),h=t.n(g),b=t(87536),x=t(46340),f=t(61150),y=t(11163),v=t(63750),_=t(86893);let j=e=>{var a,t;let{categories:o,subcategory:r,setSubcategory:c,fields:i,setFields:u,open:d,filters:g,setFilters:x}=e,j=(0,l.useRef)(!1),w=(0,l.useRef)({}),{siteConfig:{siteConfig:T}}=(0,l.useContext)(s.D),S=(0,y.useRouter)(),{control:k,reset:q,watch:P,getValues:F,setValue:E}=(0,b.cI)({defaultValues:{sort:(null===(a=S.query)||void 0===a?void 0:a.sort)||"price-asc"}});return((0,l.useEffect)(()=>{var e,a;if((null==T?void 0:null===(e=T.browsePage)||void 0===e?void 0:null===(a=e.sidebarFilters)||void 0===a?void 0:a.length)&&!j.current){let e={};T.browsePage.sidebarFilters.forEach(a=>{S.query[a.fieldName]?e[a.fieldName]=S.query[a.fieldName]:(S.query[a.fieldName+"-min"]||S.query[a.fieldName+"-max"])&&("range"===a.filterType?e[a.fieldName+"-range"]={min:+S.query[a.fieldName+"-min"],max:+S.query[a.fieldName+"-max"]}:(e[a.fieldName+"-min"]=+S.query[a.fieldName+"-min"],e[a.fieldName+"-max"]=+S.query[a.fieldName+"-max"]))}),q(e),j.current=!0}},[null==T?void 0:null===(t=T.browsePage)||void 0===t?void 0:t.sidebarFilters,S.query]),d)?(0,n.jsxs)("form",{className:h().sidebar,children:[Object.keys(S.query).length>1&&(0,n.jsx)("div",{className:h().clearFilters,children:(0,n.jsxs)("button",{className:"btn",type:"button",onClick:()=>{q(w.current),u(null),S.replace({pathname:f.Hb.browsePage,query:{sort:S.query.sort}},void 0,{shallow:!0})},children:[(0,n.jsx)(p.fMW,{}),"Clear All Filters"]})}),(0,n.jsx)(C,{label:"Sort",children:(0,n.jsx)(m.hQ,{control:k,name:"sort",options:[{label:"Price Low to High",value:"price-asc"},{label:"Price High to Low",value:"price-dsc"}],onChange:e=>x({...g,sort:e.value})})}),i?(0,n.jsxs)("section",{className:h().backToCategories,onClick:()=>{u(null),x(e=>({category:e.category,subcategory:void 0}))},children:[(0,n.jsx)(v.And,{style:{fontSize:"1.3em"}})," ",(0,n.jsxs)("p",{className:"flex align-center gap_5",children:[g.category," ",(0,n.jsx)(_.Tfp,{})," ",g.subcategory]})]}):(0,n.jsxs)("section",{className:h().categorySection,children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Categories"})}),(0,n.jsx)("ul",{className:h().categories,children:o.map(e=>{var a;return(0,n.jsxs)("li",{children:[(0,n.jsx)(m.XZ,{label:e.name,checked:g.category===e.name,onChange:a=>{g.category===e.name?x(e=>({...e,category:void 0})):x(a=>({...a,category:e.name}))}}),(null===(a=e.subCategories)||void 0===a?void 0:a.length)>0&&(0,n.jsx)("ul",{className:h().subCategories,children:e.subCategories.map(a=>(0,n.jsx)("li",{label:a.name,children:(0,n.jsx)(m.XZ,{label:a.name,checked:g.subcategory===a.name,onChange:t=>{var n,l;g.subcategory===a.name?x(e=>({...e,subcategory:void 0})):x(t=>({...t,category:e.name,subcategory:a.name})),u(t.target.checked?null===(n=null==T?void 0:null===(l=T.browsePage)||void 0===l?void 0:l.sidebarFilters.find(t=>t.category===e.name&&t.subcategory===a.name))||void 0===n?void 0:n.filters:null)}})},a.name))})]},e.name)})})]}),(i||[]).map(e=>{let a=T.productFields.find(a=>a.name===e.fieldName);return a?"textSearch"===e.filterType||"match"===e.filterType?(w.current={...w.current,[a.name]:""},(0,n.jsx)(C,{label:a.label,children:(0,n.jsx)(m.II,{control:k,name:a.name,type:a.inputType,onChange:e=>{x(t=>({...t,[a.name]:e.target.value||""}))}})},e.fieldName)):"minMax"===e.filterType?(w.current={...w.current,["".concat(a.name,"-min")]:"",["".concat(a.name,"-max")]:""},(0,n.jsxs)(C,{label:a.label,children:[(0,n.jsx)(m.II,{control:k,name:"".concat(a.name,"-min"),type:a.inputType,placeholder:"MIN",onChange:e=>{let t=F("".concat(a.name,"-max"));+e.target.value<=+t?x(n=>({...n,["".concat(a.name,"-min")]:+e.target.value,["".concat(a.name,"-max")]:+t})):x(e=>({...e,["".concat(a.name,"-min")]:"",["".concat(a.name,"-max")]:""}))}}),(0,n.jsx)(m.II,{control:k,name:"".concat(a.name,"-max"),type:a.inputType,placeholder:"MAX",onChange:e=>{let t=F("".concat(a.name,"-min"));+e.target.value>=+t?x(n=>({...n,["".concat(a.name,"-max")]:+e.target.value,["".concat(a.name,"-min")]:+t})):x(e=>({...e,["".concat(a.name,"-max")]:"",["".concat(a.name,"-min")]:""}))}}),+F("".concat(a.name,"-max"))<+F("".concat(a.name,"-min"))&&(0,n.jsx)("p",{className:"subtitle1",children:"Max must be greater then Min"})]},e.fieldName)):"range"===e.filterType?(0,n.jsx)(C,{label:a.label,children:(0,n.jsx)(m.e6,{control:k,name:"".concat(a.name,"-range"),setValue:E,type:a.inputType,placeholder:"".concat(a.label," range"),onChange:e=>{let{min:t,max:n}=e;t<=n?x(e=>({...e,["".concat(a.name,"-min")]:t,["".concat(a.name,"-max")]:n})):x(e=>({...e,["".concat(a.name,"-min")]:"",["".concat(a.name,"-max")]:""}))},min:+e.min,max:+e.max})},e.fieldName):["list","dropdown"].includes(e.filterStyle)?(w.current={...w.current,[a.name]:[]},(0,n.jsx)(N,{field:a,sidebarItem:e,setFilters:x,control:k},e.fieldName)):void 0:null})]}):null},N=e=>{let{field:a,setFilters:t,sidebarItem:s,control:o}=e,[r,c]=(0,l.useState)([]),[i,u]=(0,l.useState)([]),{get:d}=(0,x.ib)(f.Hv.elements+"/".concat((null==a?void 0:a.collection)||""));return((0,l.useEffect)(()=>{"list"===s.filterStyle&&t(e=>({...e,[a.name]:(null==r?void 0:r.length)?r:""}))},[r]),(0,l.useEffect)(()=>{"collection"===a.optionType&&d().then(e=>{let{data:t}=e;if(null==t?void 0:t.success)return u(t.data.map(e=>({label:e[a.optionLabel],value:e[a.optionValue]})))}).catch(e=>console.log(e))},[]),"list"===s.filterStyle)?(0,n.jsx)(C,{label:a.label,children:(0,n.jsx)("ul",{className:h().filterList,children:("array"===a.optionType?a.options:i).map((e,t)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("input",{id:"".concat(a.name,"_").concat(e.label),type:"checkbox",checked:r.includes(e.value),onChange:a=>{r.includes(e.value)?c(a=>a.filter(a=>a!==e.value)):c(a=>[...a,e.value])}})," ",(0,n.jsx)("label",{htmlFor:"".concat(a.name,"_").concat(e.label),children:e.label})]},t))})}):"dropdown"===s.filterStyle?(0,n.jsx)(C,{label:a.label,children:(0,n.jsx)(m.Ph,{control:o,..."array"===a.optionType&&{options:a.options},..."collection"===a.optionType&&{url:"".concat(f.Hv.elements,"/").concat(a.collection),getQuery:(e,t)=>({...e&&{[a.optionLabel]:e},...t&&{[a.optionValue]:t}}),handleData:e=>({label:e[a.optionLabel],value:e[a.optionValue]})},multiple:!0,name:a.name,formOptions:{required:a.required},className:h().itemName,onChange:e=>{t(t=>({...t,[a.name]:e.length?e.map(e=>e.value):""}))}})}):null},C=e=>{let{label:a,children:t,className:o}=e,{siteConfig:{siteConfig:r}}=(0,l.useContext)(s.D),[c,i]=(0,l.useState)(!0);return(0,n.jsxs)("div",{className:"".concat(h().section," ").concat(o||""),children:[(0,n.jsx)("div",{className:h().head,onClick:()=>i(!c),children:a}),c&&(0,n.jsx)("div",{className:h().sectionContent,onClick:e=>e.stopPropagation(),children:t})]})};var w=t(74382);function T(e){let{showPath:a}=e,t=(0,y.useRouter)(),[s,o]=(0,l.useState)({sort:"price-asc"}),[r,c]=(0,l.useState)(!1),[i,u]=(0,l.useState)([]),[g,b]=(0,l.useState)({page:1,pageSize:10}),[v,_]=(0,l.useState)(null),[N,C]=(0,l.useState)(null),[T,S]=(0,l.useState)([]),{get:k}=(0,x.ib)(f.Hv.categories),{get:q,loading:P}=(0,x.ib)(f.Hv.browse);return(0,l.useEffect)(()=>{t.replace({pathname:f.Hb.browse,query:{...Object.entries({...t.query,...s}).filter((e,a)=>{let[t,n]=e;return 0===n||n}).reduce((e,a)=>(e[a[0]]=a[1],e),{})}},void 0,{shallow:!0})},[s]),(0,l.useEffect)(()=>{q({query:t.query}).then(e=>{let{data:a}=e;if(!(null==a?void 0:a.success)){(null==a?void 0:a.message)&&(0,d.N)({type:"error",message:a.message});return}u(a.data),b(a.metadata)}).catch(e=>(0,d.N)({type:"error",message:e.message}))},[t.query]),(0,l.useEffect)(()=>{k().then(e=>{let{data:a}=e;(null==a?void 0:a.success)?S(a.data):(0,d.N)({type:"error",message:a.message})}).catch(e=>(0,d.N)({type:"error",message:e.message})),window.innerWidth>480&&c(!0)},[]),(0,n.jsxs)("div",{className:"".concat(h().container," ").concat(r?h().sidebarOpen:""),children:[a&&(0,n.jsx)(m.nB,{paths:[{label:"Home",path:"/"},{label:"Browse"}],className:h().paths}),(0,n.jsxs)("button",{className:"btn ".concat(h().sidebarToggle),onClick:()=>c(!r),children:["Filters ",r?(0,n.jsx)(p.ALZ,{}):(0,n.jsx)(p.kWQ,{})]}),(0,n.jsx)(j,{categories:T,fields:v,setFields:_,subcategory:N,setSubCategory:C,open:r,filters:s,setFilters:o}),(0,n.jsx)("div",{className:"".concat(h().content," ").concat(h().products),children:(0,n.jsx)("div",{className:h().products,children:i.length>0?i.map((e,a)=>(0,n.jsx)(w.B,{product:e},e._id)):(0,n.jsx)("div",{className:h().placeholder,children:P?"Loading...":"No Product found"})})})]})}var S=t(41664),k=t.n(S);let q=e=>{var a,t;let{siteData:o}=e,{compare:d,setSiteConfig:m}=(0,l.useContext)(s.D);return((0,l.useEffect)(()=>{o&&m(o)},[o]),o)?(0,n.jsxs)("main",{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("meta",{charSet:"utf-8"}),(0,n.jsx)("title",{children:o.siteTitle}),(0,n.jsx)("meta",{property:"og:title",content:o.siteTitle}),(0,n.jsx)("meta",{property:"og:image",content:o.logo}),(0,n.jsx)("meta",{property:"og:description",content:o.siteDescription}),(null==o?void 0:o.favicon)&&(0,n.jsx)("link",{rel:"icon",href:o.favicon})]}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(T,{showPath:null==o?void 0:null===(a=o.siteConfig)||void 0===a?void 0:null===(t=a.landingPage)||void 0===t?void 0:t.viewLandingPage}),(0,n.jsx)(i.Z,{}),(null==d?void 0:d.length)>0&&(0,n.jsx)(k(),{href:f.Hb.compare,children:"Compare"})]}):(0,n.jsx)(u.Z,{})};var P=!0,F=q},12713:function(e){e.exports={paths:"products_paths__55GlB",container:"products_container__x7d_h",sidebarOpen:"products_sidebarOpen__7Bdu9",sidebar:"products_sidebar__b5QM9",clearFilters:"products_clearFilters__wgank",section:"products_section__a50fI",head:"products_head__pbuC4",sectionContent:"products_sectionContent__6yMTl",filterList:"products_filterList__5ZzyN",categorySection:"products_categorySection__BPRDk",categories:"products_categories__OGk1q",subCategories:"products_subCategories__bB8PD",backToCategories:"products_backToCategories__Nh1Vw",sidebarToggle:"products_sidebarToggle__tHi7m",content:"products_content__Fq2Bz",ribbon:"products_ribbon__b5c7V",products:"products_products__9hKj8",placeholder:"products_placeholder__ZT0QY"}}},function(e){e.O(0,[445,937,13,260,874,255,556,801,441,774,888,179],function(){return e(e.s=8717)}),_N_E=e.O()}]);