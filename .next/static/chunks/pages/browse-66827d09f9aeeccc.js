(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{8717:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/browse",function(){return a(23242)}])},23242:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return E},default:function(){return P}});var n=a(85893),l=a(67294),o=a(79711),s=a(9008),i=a.n(s),r=a(90152),c=a(72860),u=a(28380),d=a(88824),m=a(83505),g=a(19042),p=a(12713),h=a.n(p),b=a(87536),f=a(77807),v=a(61150),x=a(11163),y=a(78633),_=a(2777);let j=e=>{var t;let{categories:a,subcategory:s,setSubcategory:i,fields:r,setFields:c,open:u,filters:d,setFilters:p}=e,f=(0,l.useRef)(!1),j=(0,l.useRef)({}),{siteConfig:{siteConfig:C}}=(0,l.useContext)(o.D),S=(0,x.useRouter)(),{control:T,reset:k,watch:q,getValues:E,setValue:P}=(0,b.cI)({});return((0,l.useEffect)(()=>{if(!f.current){var e,t,a;let n={sort:(null===(e=S.query)||void 0===e?void 0:e.sort)||"price-asc",category:S.query.category||void 0,subcategories:S.query.subcategories||[]};null==C||null===(t=C.browsePage)||void 0===t||null===(a=t.sidebarFilters)||void 0===a||a.forEach(e=>{S.query[e.fieldName]?n[e.fieldName]=S.query[e.fieldName]:(S.query[e.fieldName+"-min"]||S.query[e.fieldName+"-max"])&&("range"===e.filterType?n[e.fieldName+"-range"]={min:+S.query[e.fieldName+"-min"],max:+S.query[e.fieldName+"-max"]}:(n[e.fieldName+"-min"]=+S.query[e.fieldName+"-min"],n[e.fieldName+"-max"]=+S.query[e.fieldName+"-max"]))}),k(n),p(n),f.current=!0}},[null==C?void 0:null===(t=C.browsePage)||void 0===t?void 0:t.sidebarFilters,S.query]),u)?(0,n.jsxs)("form",{className:h().sidebar,children:[Object.keys(S.query).length>1&&(0,n.jsx)("div",{className:h().clearFilters,children:(0,n.jsxs)("button",{className:"btn",type:"button",onClick:()=>{k(j.current),c(null),S.replace({pathname:v.Hb.browsePage,query:{sort:S.query.sort}},void 0,{shallow:!0}),setTimeout(()=>{p({})},10)},children:[(0,n.jsx)(g.fMW,{}),"Clear All Filters"]})}),(0,n.jsx)(w,{label:"Sort",children:(0,n.jsx)(m.hQ,{control:T,name:"sort",options:[{label:"Price Low to High",value:"price-asc"},{label:"Price High to Low",value:"price-dsc"}],onChange:e=>p({...d,sort:e.value})})}),r?(0,n.jsxs)("section",{className:h().backToCategories,onClick:()=>{c(null),p(e=>({category:e.category,subcategory:void 0}))},children:[(0,n.jsx)(y.And,{style:{fontSize:"1.3em"}})," ",(0,n.jsxs)("p",{className:"flex align-center gap_5",children:[d.category," ",(0,n.jsx)(_.Tfp,{})," ",d.subcategory]})]}):(0,n.jsxs)("section",{className:h().categorySection,children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Categories"})}),(0,n.jsx)("ul",{className:h().categories,children:a.map(e=>{var t;return(0,n.jsxs)("li",{children:[(0,n.jsx)(m.XZ,{label:e.name,checked:d.category===e.name,onChange:t=>{d.category===e.name?p(e=>({...e,category:void 0,subcategories:[]})):p(t=>({...t,category:e.name,subcategories:(e.subcategories||[]).map(e=>e.name)}))}}),(null===(t=e.subcategories)||void 0===t?void 0:t.length)>0&&(0,n.jsx)("ul",{className:h().subcategories,children:e.subcategories.map(t=>(0,n.jsx)("li",{label:t.name,children:(0,n.jsx)(m.XZ,{label:t.name,checked:d.category===e.name&&(d.subcategories||[]).includes(t.name),onChange:a=>{var n,l;d.category===e.name&&(d.subcategories||[]).includes(t.name)?p(e=>({...e,subcategories:e.subcategories.filter(e=>e!==t.name)})):p(a=>({...a,category:e.name,subcategories:a.category!==e.name?[t.name]:[...(a.subcategories||[]).filter(t=>(e.subcategories||[]).some(e=>e.name===t)),t.name]})),c(a.target.checked?null===(n=null==C?void 0:null===(l=C.browsePage)||void 0===l?void 0:l.sidebarFilters.find(a=>a.category===e.name&&a.subcategory===t.name))||void 0===n?void 0:n.filters:null)}})},t.name))})]},e.name)})})]}),(r||[]).map(e=>{let t=C.productFields.find(t=>t.name===e.fieldName);return t?"textSearch"===e.filterType||"match"===e.filterType?(j.current={...j.current,[t.name]:""},(0,n.jsx)(w,{label:t.label,children:(0,n.jsx)(m.II,{control:T,name:t.name,type:t.inputType,onChange:e=>{p(a=>({...a,[t.name]:e.target.value||""}))}})},e.fieldName)):"minMax"===e.filterType?(j.current={...j.current,["".concat(t.name,"-min")]:"",["".concat(t.name,"-max")]:""},(0,n.jsxs)(w,{label:t.label,children:[(0,n.jsx)(m.II,{control:T,name:"".concat(t.name,"-min"),type:t.inputType,placeholder:"MIN",onChange:e=>{let a=E("".concat(t.name,"-max"));+e.target.value<=+a?p(n=>({...n,["".concat(t.name,"-min")]:+e.target.value,["".concat(t.name,"-max")]:+a})):p(e=>({...e,["".concat(t.name,"-min")]:"",["".concat(t.name,"-max")]:""}))}}),(0,n.jsx)(m.II,{control:T,name:"".concat(t.name,"-max"),type:t.inputType,placeholder:"MAX",onChange:e=>{let a=E("".concat(t.name,"-min"));+e.target.value>=+a?p(n=>({...n,["".concat(t.name,"-max")]:+e.target.value,["".concat(t.name,"-min")]:+a})):p(e=>({...e,["".concat(t.name,"-max")]:"",["".concat(t.name,"-min")]:""}))}}),+E("".concat(t.name,"-max"))<+E("".concat(t.name,"-min"))&&(0,n.jsx)("p",{className:"subtitle1",children:"Max must be greater then Min"})]},e.fieldName)):"range"===e.filterType?(0,n.jsx)(w,{label:t.label,children:(0,n.jsx)(m.e6,{control:T,name:"".concat(t.name,"-range"),setValue:P,type:t.inputType,placeholder:"".concat(t.label," range"),onChange:e=>{let{min:a,max:n}=e;a<=n?p(e=>({...e,["".concat(t.name,"-min")]:a,["".concat(t.name,"-max")]:n})):p(e=>({...e,["".concat(t.name,"-min")]:"",["".concat(t.name,"-max")]:""}))},min:+e.min,max:+e.max})},e.fieldName):["list","dropdown"].includes(e.filterStyle)?(j.current={...j.current,[t.name]:[]},(0,n.jsx)(N,{field:t,sidebarItem:e,setFilters:p,control:T},e.fieldName)):void 0:null})]}):null},N=e=>{let{field:t,setFilters:a,sidebarItem:o,control:s}=e,[i,r]=(0,l.useState)([]),[c,u]=(0,l.useState)([]),{get:d}=(0,f.ib)(v.Hv.elements+"/".concat((null==t?void 0:t.collection)||""));return((0,l.useEffect)(()=>{"list"===o.filterStyle&&a(e=>({...e,[t.name]:(null==i?void 0:i.length)?i:""}))},[i]),(0,l.useEffect)(()=>{"collection"===t.optionType&&d().then(e=>{let{data:a}=e;if(null==a?void 0:a.success)return u(a.data.map(e=>({label:e[t.optionLabel],value:e[t.optionValue]})))}).catch(e=>console.log(e))},[]),"list"===o.filterStyle)?(0,n.jsx)(w,{label:t.label,children:(0,n.jsx)("ul",{className:h().filterList,children:("array"===t.optionType?t.options:c).map((e,a)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("input",{id:"".concat(t.name,"_").concat(e.label),type:"checkbox",checked:i.includes(e.value),onChange:t=>{i.includes(e.value)?r(t=>t.filter(t=>t!==e.value)):r(t=>[...t,e.value])}})," ",(0,n.jsx)("label",{htmlFor:"".concat(t.name,"_").concat(e.label),children:e.label})]},a))})}):"dropdown"===o.filterStyle?(0,n.jsx)(w,{label:t.label,children:(0,n.jsx)(m.Ph,{control:s,..."array"===t.optionType&&{options:t.options},..."collection"===t.optionType&&{url:"".concat(v.Hv.elements,"/").concat(t.collection),getQuery:(e,a)=>({...e&&{[t.optionLabel]:e},...a&&{[t.optionValue]:a}}),handleData:e=>({label:e[t.optionLabel],value:e[t.optionValue]})},multiple:!0,name:t.name,formOptions:{required:t.required},className:h().itemName,onChange:e=>{a(a=>({...a,[t.name]:e.length?e.map(e=>e.value):""}))}})}):null},w=e=>{let{label:t,children:a,className:s}=e,{siteConfig:{siteConfig:i}}=(0,l.useContext)(o.D),[r,c]=(0,l.useState)(!0);return(0,n.jsxs)("div",{className:"".concat(h().section," ").concat(s||""),children:[(0,n.jsx)("div",{className:h().head,onClick:()=>c(!r),children:t}),r&&(0,n.jsx)("div",{className:h().sectionContent,onClick:e=>e.stopPropagation(),children:a})]})};var C=a(74382);function S(e){let{showPath:t}=e,a=(0,l.useRef)(),o=(0,x.useRouter)(),[s,i]=(0,l.useState)({sort:"price-asc"}),[r,c]=(0,l.useState)(!1),[u,p]=(0,l.useState)([]),[b,y]=(0,l.useState)({page:1,pageSize:10}),[_,N]=(0,l.useState)(null),[w,S]=(0,l.useState)(null),[T,k]=(0,l.useState)([]),{get:q}=(0,f.ib)(v.Hv.categories),{get:E,loading:P}=(0,f.ib)(v.Hv.browse);(0,l.useEffect)(()=>{o.replace({pathname:v.Hb.browse,query:{...Object.entries({...o.query,...s}).filter((e,t)=>{let[a,n]=e;return 0===n||n}).reduce((e,t)=>(e[t[0]]=t[1],e),{})}},void 0,{shallow:!0})},[s]);let F=(0,l.useCallback)(function(){let{page:e,pageSize:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};P||E({query:{...o.query,page:e||(null==b?void 0:b.page)||1,pageSize:t||(null==b?void 0:b.pageSize)||10}}).then(e=>{let{data:t}=e;if(!(null==t?void 0:t.success)){(null==t?void 0:t.message)&&(0,d.N)({type:"error",message:t.message});return}p(e=>{var a;return(null===(a=t.metadata)||void 0===a?void 0:a.page)===1?t.data:[...e,...t.data]}),y(t.metadata)}).catch(e=>(0,d.N)({type:"error",message:e.message}))},[o.query,b,P]);return(0,l.useEffect)(()=>{F({page:1,pageSize:10})},[o.query]),(0,l.useEffect)(()=>{q().then(e=>{let{data:t}=e;(null==t?void 0:t.success)?k(t.data):(0,d.N)({type:"error",message:t.message})}).catch(e=>(0,d.N)({type:"error",message:e.message})),window.innerWidth>480&&c(!0)},[]),(0,l.useEffect)(()=>{let e=window.scrollY,t=()=>{var t;let n=e<window.scrollY?"down":"up";e=window.scrollY;let l=(null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect().top)<window.innerHeight;"down"===n&&!P&&l&&F({page:((null==b?void 0:b.page)||0)+1,pageSize:(null==b?void 0:b.pageSize)||10})};return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[P,b]),(0,n.jsxs)("div",{className:"".concat(h().container," ").concat(r?h().sidebarOpen:""),children:[t&&(0,n.jsx)(m.nB,{paths:[{label:"Home",path:"/"},{label:"Browse"}],className:h().paths}),(0,n.jsxs)("button",{className:"btn ".concat(h().sidebarToggle),onClick:()=>c(!r),children:["Filters ",r?(0,n.jsx)(g.ALZ,{}):(0,n.jsx)(g.kWQ,{})]}),(0,n.jsx)(j,{categories:T,fields:_,setFields:N,subcategory:w,setSubCategory:S,open:r,filters:s,setFilters:i}),(0,n.jsxs)("div",{className:"".concat(h().content," ").concat(h().products),children:[(0,n.jsx)("div",{className:h().products,children:u.length>0?u.map((e,t)=>(0,n.jsx)(C.B,{product:e},e._id)):(0,n.jsx)("div",{className:h().placeholder,children:P?"Loading...":"No Product found"})}),P&&(0,n.jsx)("div",{className:h().loading,children:"Loading..."}),(null==b?void 0:b.totalRecord)>u.length&&!P&&(0,n.jsx)("div",{className:"anchor",ref:a,style:{height:"1rem",width:"1rem"}})]})]})}var T=a(41664),k=a.n(T);let q=e=>{var t,a,s,d;let{siteData:m}=e,{compare:g,setSiteConfig:p}=(0,l.useContext)(o.D);return((0,l.useEffect)(()=>{m&&p(m)},[m]),m)?(0,n.jsxs)("main",{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("meta",{charSet:"utf-8"}),(0,n.jsx)("title",{children:null===(t=m.siteConfig)||void 0===t?void 0:t.siteTitle}),(0,n.jsx)("meta",{property:"og:title",content:null===(a=m.siteConfig)||void 0===a?void 0:a.siteTitle}),(0,n.jsx)("meta",{property:"og:image",content:m.logo}),(0,n.jsx)("meta",{property:"description",content:m.siteConfig.siteDescription}),(0,n.jsx)("meta",{property:"og:description",content:m.siteConfig.siteDescription}),(null==m?void 0:m.favicon)&&(0,n.jsx)("link",{rel:"icon",href:m.favicon})]}),(0,n.jsx)(r.Z,{}),(0,n.jsx)(S,{showPath:null==m?void 0:null===(s=m.siteConfig)||void 0===s?void 0:null===(d=s.landingPage)||void 0===d?void 0:d.viewLandingPage}),(0,n.jsx)(c.Z,{}),(null==g?void 0:g.length)>0&&(0,n.jsx)(k(),{href:v.Hb.compare,children:"Compare"})]}):(0,n.jsx)(u.Z,{})};var E=!0,P=q},12713:function(e){e.exports={paths:"products_paths__55GlB",container:"products_container__x7d_h",sidebarOpen:"products_sidebarOpen__7Bdu9",sidebar:"products_sidebar__b5QM9",clearFilters:"products_clearFilters__wgank",section:"products_section__a50fI",head:"products_head__pbuC4",sectionContent:"products_sectionContent__6yMTl",filterList:"products_filterList__5ZzyN",categorySection:"products_categorySection__BPRDk",categories:"products_categories__OGk1q",subcategories:"products_subcategories__GIiUY",backToCategories:"products_backToCategories__Nh1Vw",sidebarToggle:"products_sidebarToggle__tHi7m",content:"products_content__Fq2Bz",ribbon:"products_ribbon__b5c7V",products:"products_products__9hKj8",placeholder:"products_placeholder__ZT0QY",loading:"products_loading__tx5k8"}}},function(e){e.O(0,[317,738,365,660,817,255,321,473,678,441,774,888,179],function(){return e(e.s=8717)}),_N_E=e.O()}]);