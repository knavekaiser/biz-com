(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{8717:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/browse",function(){return a(23242)}])},23242:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return P},default:function(){return F}});var n=a(85893),l=a(67294),s=a(79711),o=a(9008),r=a.n(o),c=a(90152),i=a(72860),u=a(28380),d=a(88824),m=a(83505),p=a(53854),g=a(12713),h=a.n(g),b=a(87536),x=a(46340),f=a(61150),y=a(11163),v=a(63750),_=a(86893);let j=e=>{var t,a;let{categories:o,subcategory:r,setSubcategory:c,fields:i,setFields:u,open:d,filters:g,setFilters:x}=e,j=(0,l.useRef)(!1),w=(0,l.useRef)({}),{siteConfig:{siteConfig:T}}=(0,l.useContext)(s.D),S=(0,y.useRouter)(),{control:k,reset:q,watch:P,getValues:F,setValue:E}=(0,b.cI)({defaultValues:{sort:(null===(t=S.query)||void 0===t?void 0:t.sort)||"price-asc"}});return((0,l.useEffect)(()=>{var e,t;if((null==T?void 0:null===(e=T.browsePage)||void 0===e?void 0:null===(t=e.sidebarFilters)||void 0===t?void 0:t.length)&&!j.current){let e={};T.browsePage.sidebarFilters.forEach(t=>{S.query[t.fieldName]?e[t.fieldName]=S.query[t.fieldName]:(S.query[t.fieldName+"-min"]||S.query[t.fieldName+"-max"])&&("range"===t.filterType?e[t.fieldName+"-range"]={min:+S.query[t.fieldName+"-min"],max:+S.query[t.fieldName+"-max"]}:(e[t.fieldName+"-min"]=+S.query[t.fieldName+"-min"],e[t.fieldName+"-max"]=+S.query[t.fieldName+"-max"]))}),q(e),j.current=!0}},[null==T?void 0:null===(a=T.browsePage)||void 0===a?void 0:a.sidebarFilters,S.query]),d)?(0,n.jsxs)("form",{className:h().sidebar,children:[Object.keys(S.query).length>1&&(0,n.jsx)("div",{className:h().clearFilters,children:(0,n.jsxs)("button",{className:"btn",type:"button",onClick:()=>{q(w.current),u(null),S.replace({pathname:f.Hb.browsePage,query:{sort:S.query.sort}},void 0,{shallow:!0}),setTimeout(()=>{x({})},10)},children:[(0,n.jsx)(p.fMW,{}),"Clear All Filters"]})}),(0,n.jsx)(C,{label:"Sort",children:(0,n.jsx)(m.hQ,{control:k,name:"sort",options:[{label:"Price Low to High",value:"price-asc"},{label:"Price High to Low",value:"price-dsc"}],onChange:e=>x({...g,sort:e.value})})}),i?(0,n.jsxs)("section",{className:h().backToCategories,onClick:()=>{u(null),x(e=>({category:e.category,subcategory:void 0}))},children:[(0,n.jsx)(v.And,{style:{fontSize:"1.3em"}})," ",(0,n.jsxs)("p",{className:"flex align-center gap_5",children:[g.category," ",(0,n.jsx)(_.Tfp,{})," ",g.subcategory]})]}):(0,n.jsxs)("section",{className:h().categorySection,children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Categories"})}),(0,n.jsx)("ul",{className:h().categories,children:o.map(e=>{var t;return(0,n.jsxs)("li",{children:[(0,n.jsx)(m.XZ,{label:e.name,checked:g.category===e.name,onChange:t=>{g.category===e.name?x(e=>({...e,category:void 0})):x(t=>({...t,category:e.name}))}}),(null===(t=e.subCategories)||void 0===t?void 0:t.length)>0&&(0,n.jsx)("ul",{className:h().subCategories,children:e.subCategories.map(t=>(0,n.jsx)("li",{label:t.name,children:(0,n.jsx)(m.XZ,{label:t.name,checked:g.subcategory===t.name,onChange:a=>{var n,l;g.subcategory===t.name?x(e=>({...e,subcategory:void 0})):x(a=>({...a,category:e.name,subcategory:t.name})),u(a.target.checked?null===(n=null==T?void 0:null===(l=T.browsePage)||void 0===l?void 0:l.sidebarFilters.find(a=>a.category===e.name&&a.subcategory===t.name))||void 0===n?void 0:n.filters:null)}})},t.name))})]},e.name)})})]}),(i||[]).map(e=>{let t=T.productFields.find(t=>t.name===e.fieldName);return t?"textSearch"===e.filterType||"match"===e.filterType?(w.current={...w.current,[t.name]:""},(0,n.jsx)(C,{label:t.label,children:(0,n.jsx)(m.II,{control:k,name:t.name,type:t.inputType,onChange:e=>{x(a=>({...a,[t.name]:e.target.value||""}))}})},e.fieldName)):"minMax"===e.filterType?(w.current={...w.current,["".concat(t.name,"-min")]:"",["".concat(t.name,"-max")]:""},(0,n.jsxs)(C,{label:t.label,children:[(0,n.jsx)(m.II,{control:k,name:"".concat(t.name,"-min"),type:t.inputType,placeholder:"MIN",onChange:e=>{let a=F("".concat(t.name,"-max"));+e.target.value<=+a?x(n=>({...n,["".concat(t.name,"-min")]:+e.target.value,["".concat(t.name,"-max")]:+a})):x(e=>({...e,["".concat(t.name,"-min")]:"",["".concat(t.name,"-max")]:""}))}}),(0,n.jsx)(m.II,{control:k,name:"".concat(t.name,"-max"),type:t.inputType,placeholder:"MAX",onChange:e=>{let a=F("".concat(t.name,"-min"));+e.target.value>=+a?x(n=>({...n,["".concat(t.name,"-max")]:+e.target.value,["".concat(t.name,"-min")]:+a})):x(e=>({...e,["".concat(t.name,"-max")]:"",["".concat(t.name,"-min")]:""}))}}),+F("".concat(t.name,"-max"))<+F("".concat(t.name,"-min"))&&(0,n.jsx)("p",{className:"subtitle1",children:"Max must be greater then Min"})]},e.fieldName)):"range"===e.filterType?(0,n.jsx)(C,{label:t.label,children:(0,n.jsx)(m.e6,{control:k,name:"".concat(t.name,"-range"),setValue:E,type:t.inputType,placeholder:"".concat(t.label," range"),onChange:e=>{let{min:a,max:n}=e;a<=n?x(e=>({...e,["".concat(t.name,"-min")]:a,["".concat(t.name,"-max")]:n})):x(e=>({...e,["".concat(t.name,"-min")]:"",["".concat(t.name,"-max")]:""}))},min:+e.min,max:+e.max})},e.fieldName):["list","dropdown"].includes(e.filterStyle)?(w.current={...w.current,[t.name]:[]},(0,n.jsx)(N,{field:t,sidebarItem:e,setFilters:x,control:k},e.fieldName)):void 0:null})]}):null},N=e=>{let{field:t,setFilters:a,sidebarItem:s,control:o}=e,[r,c]=(0,l.useState)([]),[i,u]=(0,l.useState)([]),{get:d}=(0,x.ib)(f.Hv.elements+"/".concat((null==t?void 0:t.collection)||""));return((0,l.useEffect)(()=>{"list"===s.filterStyle&&a(e=>({...e,[t.name]:(null==r?void 0:r.length)?r:""}))},[r]),(0,l.useEffect)(()=>{"collection"===t.optionType&&d().then(e=>{let{data:a}=e;if(null==a?void 0:a.success)return u(a.data.map(e=>({label:e[t.optionLabel],value:e[t.optionValue]})))}).catch(e=>console.log(e))},[]),"list"===s.filterStyle)?(0,n.jsx)(C,{label:t.label,children:(0,n.jsx)("ul",{className:h().filterList,children:("array"===t.optionType?t.options:i).map((e,a)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("input",{id:"".concat(t.name,"_").concat(e.label),type:"checkbox",checked:r.includes(e.value),onChange:t=>{r.includes(e.value)?c(t=>t.filter(t=>t!==e.value)):c(t=>[...t,e.value])}})," ",(0,n.jsx)("label",{htmlFor:"".concat(t.name,"_").concat(e.label),children:e.label})]},a))})}):"dropdown"===s.filterStyle?(0,n.jsx)(C,{label:t.label,children:(0,n.jsx)(m.Ph,{control:o,..."array"===t.optionType&&{options:t.options},..."collection"===t.optionType&&{url:"".concat(f.Hv.elements,"/").concat(t.collection),getQuery:(e,a)=>({...e&&{[t.optionLabel]:e},...a&&{[t.optionValue]:a}}),handleData:e=>({label:e[t.optionLabel],value:e[t.optionValue]})},multiple:!0,name:t.name,formOptions:{required:t.required},className:h().itemName,onChange:e=>{a(a=>({...a,[t.name]:e.length?e.map(e=>e.value):""}))}})}):null},C=e=>{let{label:t,children:a,className:o}=e,{siteConfig:{siteConfig:r}}=(0,l.useContext)(s.D),[c,i]=(0,l.useState)(!0);return(0,n.jsxs)("div",{className:"".concat(h().section," ").concat(o||""),children:[(0,n.jsx)("div",{className:h().head,onClick:()=>i(!c),children:t}),c&&(0,n.jsx)("div",{className:h().sectionContent,onClick:e=>e.stopPropagation(),children:a})]})};var w=a(74382);function T(e){let{showPath:t}=e,a=(0,y.useRouter)(),[s,o]=(0,l.useState)({sort:"price-asc"}),[r,c]=(0,l.useState)(!1),[i,u]=(0,l.useState)([]),[g,b]=(0,l.useState)({page:1,pageSize:10}),[v,_]=(0,l.useState)(null),[N,C]=(0,l.useState)(null),[T,S]=(0,l.useState)([]),{get:k}=(0,x.ib)(f.Hv.categories),{get:q,loading:P}=(0,x.ib)(f.Hv.browse);return(0,l.useEffect)(()=>{a.replace({pathname:f.Hb.browse,query:{...Object.entries({...a.query,...s}).filter((e,t)=>{let[a,n]=e;return 0===n||n}).reduce((e,t)=>(e[t[0]]=t[1],e),{})}},void 0,{shallow:!0})},[s]),(0,l.useEffect)(()=>{q({query:a.query}).then(e=>{let{data:t}=e;if(!(null==t?void 0:t.success)){(null==t?void 0:t.message)&&(0,d.N)({type:"error",message:t.message});return}u(t.data),b(t.metadata)}).catch(e=>(0,d.N)({type:"error",message:e.message}))},[a.query]),(0,l.useEffect)(()=>{k().then(e=>{let{data:t}=e;(null==t?void 0:t.success)?S(t.data):(0,d.N)({type:"error",message:t.message})}).catch(e=>(0,d.N)({type:"error",message:e.message})),window.innerWidth>480&&c(!0)},[]),(0,n.jsxs)("div",{className:"".concat(h().container," ").concat(r?h().sidebarOpen:""),children:[t&&(0,n.jsx)(m.nB,{paths:[{label:"Home",path:"/"},{label:"Browse"}],className:h().paths}),(0,n.jsxs)("button",{className:"btn ".concat(h().sidebarToggle),onClick:()=>c(!r),children:["Filters ",r?(0,n.jsx)(p.ALZ,{}):(0,n.jsx)(p.kWQ,{})]}),(0,n.jsx)(j,{categories:T,fields:v,setFields:_,subcategory:N,setSubCategory:C,open:r,filters:s,setFilters:o}),(0,n.jsx)("div",{className:"".concat(h().content," ").concat(h().products),children:(0,n.jsx)("div",{className:h().products,children:i.length>0?i.map((e,t)=>(0,n.jsx)(w.B,{product:e},e._id)):(0,n.jsx)("div",{className:h().placeholder,children:P?"Loading...":"No Product found"})})})]})}var S=a(41664),k=a.n(S);let q=e=>{var t,a;let{siteData:o}=e,{compare:d,setSiteConfig:m}=(0,l.useContext)(s.D);return((0,l.useEffect)(()=>{o&&m(o)},[o]),o)?(0,n.jsxs)("main",{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("meta",{charSet:"utf-8"}),(0,n.jsx)("title",{children:o.siteTitle}),(0,n.jsx)("meta",{property:"og:title",content:o.siteTitle}),(0,n.jsx)("meta",{property:"og:image",content:o.logo}),(0,n.jsx)("meta",{property:"og:description",content:o.siteDescription}),(null==o?void 0:o.favicon)&&(0,n.jsx)("link",{rel:"icon",href:o.favicon})]}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(T,{showPath:null==o?void 0:null===(t=o.siteConfig)||void 0===t?void 0:null===(a=t.landingPage)||void 0===a?void 0:a.viewLandingPage}),(0,n.jsx)(i.Z,{}),(null==d?void 0:d.length)>0&&(0,n.jsx)(k(),{href:f.Hb.compare,children:"Compare"})]}):(0,n.jsx)(u.Z,{})};var P=!0,F=q},12713:function(e){e.exports={paths:"products_paths__55GlB",container:"products_container__x7d_h",sidebarOpen:"products_sidebarOpen__7Bdu9",sidebar:"products_sidebar__b5QM9",clearFilters:"products_clearFilters__wgank",section:"products_section__a50fI",head:"products_head__pbuC4",sectionContent:"products_sectionContent__6yMTl",filterList:"products_filterList__5ZzyN",categorySection:"products_categorySection__BPRDk",categories:"products_categories__OGk1q",subCategories:"products_subCategories__bB8PD",backToCategories:"products_backToCategories__Nh1Vw",sidebarToggle:"products_sidebarToggle__tHi7m",content:"products_content__Fq2Bz",ribbon:"products_ribbon__b5c7V",products:"products_products__9hKj8",placeholder:"products_placeholder__ZT0QY"}}},function(e){e.O(0,[445,937,13,260,874,255,556,801,441,774,888,179],function(){return e(e.s=8717)}),_N_E=e.O()}]);